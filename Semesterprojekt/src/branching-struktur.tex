Unter der Annahme, dass die vorhandenen module kein Monorepo sind, werden wir diesen Aufbau beibehalten.
Somit wird es ein Repository für die App geben und eins für die Software der Hardwarekomponente.


Als Basis werden wir uns am klassischen Feature-Branching orientieren.
Es wird also in beiden Repositories Feature-- sowie Hotfix--Branches und den Develop Branch geben.
Auch soll es in beiden Fällen einen Main Branch geben, da es in beiden Fällen nur lineare Releases gibt.


Dabei wird ein Feature Branch mit upstream vom Develop erstellt, um ein neues Feature zu erstellen, einen Bug zu fixen oder sonstige Updates an Dateien zu machen.
Sind die Änderungen abgeschlossen, so wird von Develop gerebased und anschließend mit der Fast--Forward Strategie in Develop gemerged.
(Zum detaillierten Prozess mehr in Abschnitt~\ref{subsubsec:pipelines}.)
Hier wird gesquashed und Conventional Commits sind verpflichtend.
Analog verhält es sich mit Hotfix Branches, zur Main Branch.
Hotfixes dienen dabei dem schnellen fixen von kritischen Bugs in der Produktion.
Der name von Feature Branches beginnt dabei mit \qq{feature/} und der von Hotfix Branches mit \qq{hotfix/}.


Die Aufgabe vom Develop Branch ist es, die Features zusammenzuführen.
Auch findet der Hauptteil der Qualitätssicherung, der nicht in der Staging Umgebung geschieht, hier statt.
Es wird nur vor Releases in Develop commited, wenn kein neues Feature mehr gemerged werden muss.
Diese finalisieren den Release und folgen Conventional Commits.
Develop zeigt damit immer auf die aktuellste Entwicklungsversion.
Dieser wird direkt oder indirekt in Main gemerged.


Main representiert die aktuellste, öffentliche Version.
Nur von Hotfix Branches und Develop können Versionen in Main gelangen, dabei wird nicht gesquashed.
Die verschiedenen Versionen bekommen Tags mit dem Namen der entsprechenden, semantischen Version.


\paragraph{\large{In}} der App soll es zusätzlich zum Develop Branch noch einen Staging Branch geben.
    Seine Existenz wird in Abschnitt~\ref{subsubsec:deployment-umgebungen} begründet.
    Von Develop wird in Staging gemerged und von Staging anschließend in Main.


    Wichtig zu beachten ist, dass in der App Hotfixes kaum möglich sind, da die Stores auf ein manuelles Review bestehen.
    Dies dauert mindestens einen Tag, meistens sogar über zwei.
    Auch ist mit Ablehnungen zu rechnen.


\paragraph{\large{Die}} Software, der Klingel Hardware, braucht keinen Staging Branch.
    Hier wird Develop direkt in Main gemerged.